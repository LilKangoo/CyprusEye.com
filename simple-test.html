<!DOCTYPE html>
<html lang="pl" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simple Test - Language Selector</title>
  
  <!-- Include only necessary CSS -->
  <link rel="stylesheet" href="assets/css/language-selector.css" />
  
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    
    .info {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
    }
    
    button {
      background: #0066cc;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      margin: 5px;
    }
    
    button:hover {
      background: #0052a3;
    }
    
    .debug {
      background: #f8f9fa;
      padding: 10px;
      border-radius: 4px;
      font-family: monospace;
      font-size: 12px;
      margin: 10px 0;
    }
  </style>
</head>
<body data-seo-page="home">
  <div class="info">
    <h1>ðŸ§ª Simple Language Selector Test</h1>
    <p>Minimal test page to verify language selector works.</p>
    
    <div class="debug" id="debug">
      Debug info will appear here...
    </div>
    
    <div>
      <button onclick="clearStorage()">Clear Storage</button>
      <button onclick="showSelector()">Show Selector</button>
      <button onclick="checkStatus()">Check Status</button>
      <button onclick="location.reload()">Reload</button>
    </div>
    
    <h3>Test Steps:</h3>
    <ol>
      <li>Click "Clear Storage"</li>
      <li>Click "Reload"</li>
      <li>Language selector should appear automatically</li>
      <li>Select a language</li>
      <li>Reload again - selector should NOT appear</li>
    </ol>
  </div>
  
  <!-- Load language selector -->
  <script src="js/languageSelector.js"></script>
  
  <script>
    function updateDebug() {
      const debug = document.getElementById('debug');
      const selector = window.languageSelector;
      
      debug.innerHTML = `
Storage: ce_lang_selected = ${localStorage.getItem('ce_lang_selected')}
Storage: ce_lang = ${localStorage.getItem('ce_lang')}
Body data-seo-page: ${document.body.dataset.seoPage}
Selector exists: ${!!selector}
Selector shouldShow: ${selector ? selector.shouldShow() : 'N/A'}
Selector isOpen: ${selector ? selector.isOpen : 'N/A'}
      `.trim();
    }
    
    function clearStorage() {
      localStorage.removeItem('ce_lang_selected');
      localStorage.removeItem('ce_lang');
      localStorage.removeItem('seenTutorial');
      updateDebug();
      console.log('Storage cleared');
    }
    
    function showSelector() {
      if (window.languageSelector) {
        window.languageSelector.show();
      } else {
        alert('Language selector not loaded yet');
      }
    }
    
    function checkStatus() {
      updateDebug();
      console.log('Status updated');
    }
    
    // Auto-update debug info
    window.addEventListener('load', () => {
      updateDebug();
      setInterval(updateDebug, 1000);
    });
    
    console.log('Simple test page loaded');
  </script>
</body>
</html>
