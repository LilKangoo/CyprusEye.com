export function toUtcDate(value){if(!value)return null;const date=new Date(`${value}T00:00:00Z`);return Number.isNaN(date.getTime())?null:date}export function getTodayDateString(){return(new Date).toISOString().slice(0,10)}export function calculateDayDifference(fromDateString,toDateString){const fromDate=toUtcDate(fromDateString),toDate=toUtcDate(toDateString);if(!fromDate||!toDate)return null;const diffMs=fromDate.getTime()-toDate.getTime();return Math.round(diffMs/864e5)}export function formatNotificationDate(value){if(!value)return"";const date=new Date(value);return Number.isNaN(date.getTime())?"":date.toLocaleString("pl-PL",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}export function formatReviewDate(value){if(!value)return"";const date=new Date(value);return Number.isNaN(date.getTime())?"":date.toLocaleDateString("pl-PL",{day:"numeric",month:"long",year:"numeric"})}export function getDefaultDailyStreak(){return{current:0,best:0,lastCompletedDate:null}}export function normalizeDailyStreak(raw){if(!raw||"object"!=typeof raw)return getDefaultDailyStreak();const current=Number.isFinite(raw.current)?Math.max(0,Math.floor(raw.current)):0,bestCandidate=Number.isFinite(raw.best)?Math.max(0,Math.floor(raw.best)):0;return{current:current,best:Math.max(bestCandidate,current),lastCompletedDate:"string"==typeof raw.lastCompletedDate&&raw.lastCompletedDate.trim()?raw.lastCompletedDate.trim():null}}