import{createClient}from"https://esm.sh/@supabase/supabase-js@2";const getEnvVar=key=>void 0!==import.meta&&import.meta.env&&import.meta.env[key]?import.meta.env[key]:"undefined"!=typeof window&&window.__ENV__&&window.__ENV__[key]?window.__ENV__[key]:null,supabaseUrl=getEnvVar("VITE_SUPABASE_URL"),supabaseAnonKey=getEnvVar("VITE_SUPABASE_ANON_KEY");if(!supabaseUrl||!supabaseAnonKey)throw console.error("‚ùå Missing Supabase environment variables:",{url:!!supabaseUrl,key:!!supabaseAnonKey}),new Error("VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY must be set");export const supabase=createClient(supabaseUrl,supabaseAnonKey,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"cypruseye-auth-token",storage:"undefined"!=typeof window?window.localStorage:void 0,flowType:"pkce"},global:{headers:{apikey:supabaseAnonKey,Authorization:`Bearer ${supabaseAnonKey}`}}});export default supabase;"undefined"!=typeof window&&(window.__supabase__=supabase,window.__supabaseConfig__={url:supabaseUrl,hasKey:!!supabaseAnonKey});