const SUPPORTED_LANGUAGES={pl:{name:"Polski",flag:"ðŸ‡µðŸ‡±",dir:"ltr",locale:"pl_PL"},en:{name:"English",flag:"ðŸ‡¬ðŸ‡§",dir:"ltr",locale:"en_GB"},el:{name:"Î•Î»Î»Î·Î½Î¹ÎºÎ¬",flag:"ðŸ‡¬ðŸ‡·",dir:"ltr",locale:"el_GR"},he:{name:"×¢×‘×¨×™×ª",flag:"ðŸ‡®ðŸ‡±",dir:"rtl",locale:"he_IL"}};function getCurrentLanguage(){const stored=localStorage.getItem("cypruseye-language");if(stored&&SUPPORTED_LANGUAGES[stored])return stored;const langParam=new URLSearchParams(window.location.search).get("lang");if(langParam&&SUPPORTED_LANGUAGES[langParam])return langParam;const browserLang=navigator.language.split("-")[0];return SUPPORTED_LANGUAGES[browserLang]?browserLang:"pl"}function setLanguage(lang){if(!SUPPORTED_LANGUAGES[lang])return console.error(`Language ${lang} is not supported`),!1;const langConfig=SUPPORTED_LANGUAGES[lang];localStorage.setItem("cypruseye-language",lang),document.documentElement.lang=lang,document.documentElement.dir=langConfig.dir;const ogLocale=document.querySelector('meta[property="og:locale"]');var currentLang;return ogLocale&&(ogLocale.content=langConfig.locale),window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:lang}})),currentLang=lang,document.querySelectorAll("[data-lang-switch]").forEach(button=>{button.getAttribute("data-lang-switch")===currentLang?(button.classList.add("is-active"),button.setAttribute("aria-current","true")):(button.classList.remove("is-active"),button.removeAttribute("aria-current"))}),!0}function getPoiTranslatedField(poi,fieldName){if(!poi)return"";const currentLang=getCurrentLanguage(),i18nFieldName=`${fieldName}_i18n`;if(poi[i18nFieldName]&&"object"==typeof poi[i18nFieldName]){const translated=poi[i18nFieldName][currentLang];if(translated)return translated;if(poi[i18nFieldName].pl)return poi[i18nFieldName].pl;if(poi[i18nFieldName].en)return poi[i18nFieldName].en}return poi[fieldName]||""}function getPoiName(poi){return getPoiTranslatedField(poi,"name")||poi.id||"Unnamed"}function getPoiDescription(poi){return getPoiTranslatedField(poi,"description")||""}function getPoiBadge(poi){return getPoiTranslatedField(poi,"badge")||""}function getHotelTranslatedField(hotel,fieldName){if(!hotel)return"";const currentLang=getCurrentLanguage();if(hotel[fieldName]&&"object"==typeof hotel[fieldName]){const translated=hotel[fieldName][currentLang];if(translated)return translated;if(hotel[fieldName].pl)return hotel[fieldName].pl;if(hotel[fieldName].en)return hotel[fieldName].en}return"string"==typeof hotel[fieldName]?hotel[fieldName]:""}function getHotelName(hotel){return getHotelTranslatedField(hotel,"title")||hotel.slug||"Unnamed Hotel"}function getHotelDescription(hotel){return getHotelTranslatedField(hotel,"description")||""}function getTripTranslatedField(trip,fieldName){if(!trip)return"";const currentLang=getCurrentLanguage();if(trip[fieldName]&&"object"==typeof trip[fieldName]){const translated=trip[fieldName][currentLang];if(translated)return translated;if(trip[fieldName].pl)return trip[fieldName].pl;if(trip[fieldName].en)return trip[fieldName].en}return"string"==typeof trip[fieldName]?trip[fieldName]:""}function getQuestTranslatedField(quest,fieldName){if(!quest)return"";const currentLang=getCurrentLanguage(),i18nField=`${fieldName}_i18n`;if(quest[i18nField]&&"object"==typeof quest[i18nField]){if(quest[i18nField][currentLang])return quest[i18nField][currentLang];if(quest[i18nField].pl)return quest[i18nField].pl;if(quest[i18nField].en)return quest[i18nField].en}return"string"==typeof quest[fieldName]?quest[fieldName]:""}function getCarTranslatedField(car,fieldName){if(!car)return"";const currentLang=getCurrentLanguage();if(car[fieldName]&&"object"==typeof car[fieldName]){const translated=car[fieldName][currentLang];if(translated)return translated;if(car[fieldName].pl)return car[fieldName].pl;if(car[fieldName].en)return car[fieldName].en}return"string"==typeof car[fieldName]?car[fieldName]:""}window.getPoiName=getPoiName,window.getPoiDescription=getPoiDescription,window.getPoiBadge=getPoiBadge,window.getPoiTranslatedField=getPoiTranslatedField,window.getHotelName=getHotelName,window.getHotelDescription=getHotelDescription,window.getHotelTranslatedField=getHotelTranslatedField,window.getTripName=function(trip){return getTripTranslatedField(trip,"title")||trip.slug||"Unnamed Trip"},window.getTripDescription=function(trip){return getTripTranslatedField(trip,"description")||""},window.getTripTranslatedField=getTripTranslatedField,window.getQuestTitle=function(quest){return getQuestTranslatedField(quest,"title")||quest?.id||"Unnamed Quest"},window.getQuestDescription=function(quest){return getQuestTranslatedField(quest,"description")||""},window.getQuestTranslatedField=getQuestTranslatedField,window.getCarTranslatedField=getCarTranslatedField,window.getCarName=function(car){return getCarTranslatedField(car,"car_model")||car.car_type||"Unknown Car"},window.getCarDescription=function(car){return getCarTranslatedField(car,"description")||""},window.getCarType=function(car){return getCarTranslatedField(car,"car_type")||""},window.getCarFeatures=function(car){if(!car||!car.features)return[];const currentLang=getCurrentLanguage();if(car.features&&"object"==typeof car.features&&!Array.isArray(car.features)){if(car.features[currentLang]&&Array.isArray(car.features[currentLang]))return car.features[currentLang];if(car.features.pl&&Array.isArray(car.features.pl))return car.features.pl;if(car.features.en&&Array.isArray(car.features.en))return car.features.en}return Array.isArray(car.features)?car.features:[]},"undefined"!=typeof module&&module.exports&&(module.exports={SUPPORTED_LANGUAGES:SUPPORTED_LANGUAGES,getCurrentLanguage:getCurrentLanguage,setLanguage:setLanguage,createLanguageSwitcher:function(containerId="languageSwitcherDesktop"){!function(){const tabbar=document.querySelector(".mobile-tabbar");if(!tabbar)return;const currentLang=getCurrentLanguage(),currentConfig=SUPPORTED_LANGUAGES[currentLang],tabbarButton=document.createElement("button");tabbarButton.type="button",tabbarButton.className="mobile-tabbar-btn language-tabbar-btn",tabbarButton.id="mobileLanguageTab",tabbarButton.setAttribute("aria-pressed","false"),tabbarButton.innerHTML=`\n    <span class="mobile-tabbar-icon language-tabbar-icon" aria-hidden="true">${currentConfig.flag}</span>\n    <span class="mobile-tabbar-label language-tabbar-label" data-i18n="mobile.nav.language">JÄ™zyk</span>\n  `,tabbar.appendChild(tabbarButton);const overlay=document.createElement("div");overlay.className="language-mobile-overlay",overlay.setAttribute("aria-hidden","true");const menu=document.createElement("div");menu.className="language-mobile-menu",menu.setAttribute("role","dialog"),menu.setAttribute("aria-label","Select language"),menu.innerHTML=`\n    <div class="language-mobile-menu-header">\n      <h2 class="language-mobile-menu-title" data-i18n="language.switcher.label">Wybierz jÄ™zyk</h2>\n      <button class="language-mobile-menu-close" aria-label="Close" type="button">âœ•</button>\n    </div>\n    <div class="language-mobile-menu-list">\n      ${Object.entries(SUPPORTED_LANGUAGES).map(([code,config])=>`\n        <button \n          class="language-switcher-btn ${code===currentLang?"is-active":""}"\n          data-lang-switch="${code}"\n        >\n          <span class="language-flag" aria-hidden="true">${config.flag}</span>\n          <span class="language-name">${config.name}</span>\n        </button>\n      `).join("")}\n    </div>\n  `,document.body.appendChild(overlay),document.body.appendChild(menu);const closeMenu=()=>{overlay.classList.remove("is-visible"),menu.classList.remove("is-visible"),overlay.setAttribute("aria-hidden","true"),document.body.style.overflow=""};tabbarButton.addEventListener("click",()=>{overlay.classList.add("is-visible"),menu.classList.add("is-visible"),overlay.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden"}),overlay.addEventListener("click",closeMenu),menu.querySelector(".language-mobile-menu-close").addEventListener("click",closeMenu),menu.querySelectorAll("[data-lang-switch]").forEach(button=>{button.addEventListener("click",()=>{const lang=button.getAttribute("data-lang-switch");if(setLanguage(lang)){const url=new URL(window.location);url.searchParams.set("lang",lang),window.history.pushState({},"",url.toString()),closeMenu()}})})}()},initLanguageSystem:function(){},getPoiTranslatedField:getPoiTranslatedField,getPoiName:getPoiName,getPoiDescription:getPoiDescription,getPoiBadge:getPoiBadge,getHotelTranslatedField:getHotelTranslatedField,getHotelName:getHotelName,getHotelDescription:getHotelDescription});