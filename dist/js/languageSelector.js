!function(){const SUPPORTED_LANGUAGES={pl:{label:"Wybierz",flag:"ðŸ‡µðŸ‡±",fullName:"Polski"},en:{label:"Choose",flag:"ðŸ‡¬ðŸ‡§",fullName:"English"},el:{label:"Î•Ï€Î¹Î»Î­Î¾Ï„Îµ",flag:"ðŸ‡¬ðŸ‡·",fullName:"Î•Î»Î»Î·Î½Î¹ÎºÎ¬"},he:{label:"×‘×—×¨",flag:"ðŸ‡®ðŸ‡±",fullName:"×¢×‘×¨×™×ª"}};function safeLocalStorage(action,key,value){try{if("get"===action)return window.localStorage.getItem(key);"set"===action&&window.localStorage.setItem(key,value)}catch(error){}return null}class LanguageSelector{constructor(){this.overlay=null,this.dialog=null,this.isOpen=!1,this.selectedLanguage=null,this.handleKeydown=this.handleKeydown.bind(this)}shouldShow(){return!("true"===safeLocalStorage("get","ce_lang_selected"))&&"home"===(document.body?.dataset?.seoPage||"")}createUi(){if(this.overlay)return;this.overlay=document.createElement("div"),this.overlay.className="language-selector-overlay",this.overlay.setAttribute("aria-hidden","false");const backdrop=document.createElement("div");backdrop.className="language-selector-backdrop",this.overlay.appendChild(backdrop),this.dialog=document.createElement("div"),this.dialog.className="language-selector-dialog",this.dialog.setAttribute("role","dialog"),this.dialog.setAttribute("aria-modal","true"),this.dialog.setAttribute("aria-labelledby","languageSelectorTitle"),this.dialog.setAttribute("tabindex","-1");const title=document.createElement("h2");title.id="languageSelectorTitle",title.className="language-selector-title",title.textContent="Select Language / Wybierz jÄ™zyk / Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î³Î»ÏŽÏƒÏƒÎ± / ×‘×—×¨ ×©×¤×”",this.dialog.appendChild(title);const optionsContainer=document.createElement("div");optionsContainer.className="language-selector-options",Object.keys(SUPPORTED_LANGUAGES).forEach(code=>{const info=SUPPORTED_LANGUAGES[code],button=document.createElement("button");button.type="button",button.className="language-selector-option",button.dataset.language=code,button.setAttribute("aria-label",`${info.label} ${info.fullName}`);const flag=document.createElement("span");flag.className="language-selector-flag",flag.textContent=info.flag,flag.setAttribute("aria-hidden","true");const text=document.createElement("span");text.className="language-selector-text",text.textContent=info.label,button.appendChild(text),button.appendChild(flag),button.addEventListener("click",()=>{this.selectLanguage(code)}),optionsContainer.appendChild(button)}),this.dialog.appendChild(optionsContainer),this.overlay.appendChild(this.dialog),document.body.appendChild(this.overlay)}show(){this.isOpen||(this.createUi(),this.isOpen=!0,this.overlay.classList.add("is-visible"),document.body.classList.add("language-selector-open"),document.addEventListener("keydown",this.handleKeydown,!0),requestAnimationFrame(()=>{this.dialog&&this.dialog.focus({preventScroll:!0})}))}hide(){this.isOpen&&this.overlay&&(this.isOpen=!1,this.overlay.classList.remove("is-visible"),document.body.classList.remove("language-selector-open"),document.removeEventListener("keydown",this.handleKeydown,!0),setTimeout(()=>{this.overlay&&this.overlay.parentNode&&(this.overlay.parentNode.removeChild(this.overlay),this.overlay=null,this.dialog=null)},300))}selectLanguage(code){this.selectedLanguage=code,safeLocalStorage("set","ce_lang_selected","true"),window.appI18n&&"function"==typeof window.appI18n.setLanguage&&window.appI18n.setLanguage(code),this.hide(),setTimeout(()=>{window.appTutorial&&"function"==typeof window.appTutorial.init&&window.appTutorial.init()},100)}handleKeydown(event){if(!this.isOpen)return;if("Escape"===event.key)return void event.preventDefault();const buttons=Array.from(this.dialog?.querySelectorAll(".language-selector-option")||[]);if(0===buttons.length)return;const currentIndex=buttons.indexOf(document.activeElement);if("ArrowDown"===event.key||"ArrowUp"===event.key){let nextIndex;event.preventDefault(),nextIndex="ArrowDown"===event.key?-1===currentIndex?0:(currentIndex+1)%buttons.length:-1===currentIndex?buttons.length-1:(currentIndex-1+buttons.length)%buttons.length,buttons[nextIndex].focus()}else"Home"===event.key?(event.preventDefault(),buttons[0].focus()):"End"===event.key&&(event.preventDefault(),buttons[buttons.length-1].focus());if("Tab"===event.key){event.preventDefault();const first=buttons[0],last=buttons[buttons.length-1],activeElement=document.activeElement;event.shiftKey?activeElement!==first&&this.dialog?.contains(activeElement)?buttons[(currentIndex-1+buttons.length)%buttons.length].focus():last.focus():activeElement!==last&&this.dialog?.contains(activeElement)?buttons[(currentIndex+1)%buttons.length].focus():first.focus()}}}function initSelector(){const selector=new LanguageSelector;selector.shouldShow()&&selector.show(),window.languageSelector=selector}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{initSelector()}):initSelector()}();