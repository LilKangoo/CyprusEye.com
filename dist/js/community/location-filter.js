export function getLocationFromURL(){return new URLSearchParams(window.location.search).get("location")}export function setLocationFilter(locationId){const url=new URL(window.location.href);locationId?url.searchParams.set("location",locationId):url.searchParams.delete("location"),window.history.pushState({},"",url)}export function shouldShowContent(contentLocationId){const filterLocation=getLocationFromURL();return!filterLocation||contentLocationId===filterLocation}export function initLocationFilter(){const locationId=getLocationFromURL();locationId&&(function(locationId){const badge=document.createElement("div");badge.id="location-filter-badge",badge.className="location-filter-badge",badge.innerHTML=`\n    <div class="badge-content">\n      <span class="badge-icon">üìç</span>\n      <span class="badge-text">Filtr: ${locationId}</span>\n      <button class="badge-close" onclick="window.clearLocationFilter()">√ó</button>\n    </div>\n  `;const container=document.querySelector(".community-container")||document.body;container.insertBefore(badge,container.firstChild)}(locationId),function(locationId){const allPosts=document.querySelectorAll("[data-location]");let visibleCount=0;allPosts.forEach(post=>{post.getAttribute("data-location")===locationId?(post.style.display="",visibleCount++):post.style.display="none"}),0===visibleCount&&function(locationId){const message=document.createElement("div");message.className="no-content-message",message.innerHTML=`\n    <div class="no-content-card">\n      <div class="no-content-icon">üì∏</div>\n      <h3>Brak tre≈õci dla tego miejsca</h3>\n      <p>BƒÖd≈∫ pierwszy i dodaj zdjƒôcie lub komentarz dla <strong>${locationId}</strong>!</p>\n      <button class="btn btn-primary" onclick="window.clearLocationFilter()">\n        Zobacz wszystkie miejsca\n      </button>\n    </div>\n  `,(document.querySelector(".community-container")||document.body).appendChild(message)}(locationId)}(locationId))}window.clearLocationFilter=function(){setLocationFilter(null),window.location.reload()};const style=document.createElement("style");style.textContent="\n  .location-filter-badge {\n    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);\n    padding: 12px 20px;\n    margin: 16px 0;\n    border-radius: 12px;\n    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\n    animation: slideDown 0.3s ease-out;\n  }\n  \n  .badge-content {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    color: white;\n    font-weight: 600;\n  }\n  \n  .badge-icon {\n    font-size: 20px;\n  }\n  \n  .badge-text {\n    flex: 1;\n    font-size: 15px;\n  }\n  \n  .badge-close {\n    background: rgba(255, 255, 255, 0.2);\n    border: none;\n    color: white;\n    width: 28px;\n    height: 28px;\n    border-radius: 50%;\n    cursor: pointer;\n    font-size: 20px;\n    line-height: 1;\n    transition: background 0.2s;\n  }\n  \n  .badge-close:hover {\n    background: rgba(255, 255, 255, 0.3);\n  }\n  \n  .no-content-message {\n    padding: 40px 20px;\n    text-align: center;\n  }\n  \n  .no-content-card {\n    background: white;\n    border-radius: 16px;\n    padding: 40px;\n    max-width: 500px;\n    margin: 0 auto;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  }\n  \n  .no-content-icon {\n    font-size: 64px;\n    margin-bottom: 16px;\n  }\n  \n  .no-content-card h3 {\n    font-size: 24px;\n    margin-bottom: 12px;\n    color: #1f2937;\n  }\n  \n  .no-content-card p {\n    font-size: 16px;\n    color: #6b7280;\n    margin-bottom: 24px;\n    line-height: 1.5;\n  }\n  \n  @keyframes slideDown {\n    from {\n      opacity: 0;\n      transform: translateY(-20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n",document.head.appendChild(style),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initLocationFilter):initLocationFilter();