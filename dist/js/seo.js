!function(){const SUPPORTED_LANGUAGES=["pl","en","el"],LOCALE_FALLBACK={pl:"pl_PL",en:"en_GB",el:"el_GR"},head=document.head||document.getElementsByTagName("head")[0];function ensureMeta(attribute,value){const selector=`meta[${attribute}="${value}"]`;let element=head.querySelector(selector);return element||(element=document.createElement("meta"),element.setAttribute(attribute,value),head.appendChild(element)),element}function ensureLocalizedMeta(attribute,value,language){const selector=`meta[${attribute}="${value}"][lang="${language}"]`;let element=head.querySelector(selector);return element||(element=document.createElement("meta"),element.setAttribute(attribute,value),element.setAttribute("lang",language),head.appendChild(element)),element}function ensureAlternate(hreflang){let link=head.querySelector(`link[rel="alternate"][hreflang="${hreflang}"]`);return link||(link=document.createElement("link"),link.setAttribute("rel","alternate"),link.setAttribute("hreflang",hreflang),head.appendChild(link)),link}const meta={description:ensureMeta("name","description"),ogTitle:ensureMeta("property","og:title"),ogDescription:ensureMeta("property","og:description"),ogUrl:ensureMeta("property","og:url"),ogImage:ensureMeta("property","og:image"),ogLocale:ensureMeta("property","og:locale")},canonicalLink=function(){let link=head.querySelector('link[rel="canonical"]');return link||(link=document.createElement("link"),link.setAttribute("rel","canonical"),head.appendChild(link)),link}(),fallback={title:document.title,description:meta.description.getAttribute("content")||"",ogTitle:meta.ogTitle.getAttribute("content")||document.title,ogDescription:meta.ogDescription.getAttribute("content")||"",ogImage:meta.ogImage.getAttribute("content")||"assets/cyprus_logo-1000x1054.png",ogLocale:meta.ogLocale.getAttribute("content")||""};function getTranslations(language){const i18n=window.appI18n;return i18n&&i18n.translations&&i18n.translations[language]||{}}function getTranslationString(translations,key){if(!translations)return null;const entry=translations[key];if("string"==typeof entry)return entry;if(entry&&"object"==typeof entry){if("string"==typeof entry.text)return entry.text;if("string"==typeof entry.html)return entry.html}return null}function buildCanonicalUrl(){return new URL(window.location.pathname,"https://www.cypruseye.com").toString()}function buildLanguageUrl(language){const url=new URL(window.location.pathname,"https://www.cypruseye.com"),params=new URLSearchParams(window.location.search);return language&&params.set("lang",language),params.forEach((value,key)=>{value&&url.searchParams.set(key,value)}),language?url.searchParams.set("lang",language):url.searchParams.delete("lang"),url.toString()}function updateSeo(language){const pageKey=document.body?.dataset?.seoPage||"home",translations=getTranslations(language),baseKey=`seo.${pageKey}`,title=getTranslationString(translations,`${baseKey}.title`)||fallback.title;title&&(document.title=title);const description=getTranslationString(translations,`${baseKey}.description`)||fallback.description;description&&meta.description&&meta.description.setAttribute("content",description);const ogTitle=getTranslationString(translations,`${baseKey}.ogTitle`)||title||fallback.ogTitle;ogTitle&&meta.ogTitle&&meta.ogTitle.setAttribute("content",ogTitle);const ogDescription=getTranslationString(translations,`${baseKey}.ogDescription`)||description||fallback.ogDescription;ogDescription&&meta.ogDescription&&meta.ogDescription.setAttribute("content",ogDescription);const ogImageValue=getTranslationString(translations,`${baseKey}.ogImage`)||getTranslationString(translations,"seo.ogImage")||fallback.ogImage||"assets/cyprus_logo-1000x1054.png";ogImageValue&&meta.ogImage&&meta.ogImage.setAttribute("content",function(value){if(!value)return"";try{return new URL(value,"https://www.cypruseye.com").toString()}catch(error){return value}}(ogImageValue));const localeValue=getTranslationString(translations,`${baseKey}.locale`)||getTranslationString(translations,"seo.locale")||fallback.ogLocale||LOCALE_FALLBACK[language]||LOCALE_FALLBACK.en;localeValue&&meta.ogLocale&&meta.ogLocale.setAttribute("content",localeValue);const titleElement=head.querySelector("title");var activeLanguage;titleElement&&titleElement.setAttribute("lang",language),SUPPORTED_LANGUAGES.forEach(code=>{const localizedTranslations=getTranslations(code),localizedBaseKey=`seo.${pageKey}`,localizedTitle=getTranslationString(localizedTranslations,`${localizedBaseKey}.title`)||fallback.title,localizedDescription=getTranslationString(localizedTranslations,`${localizedBaseKey}.description`)||fallback.description,localizedOgTitle=getTranslationString(localizedTranslations,`${localizedBaseKey}.ogTitle`)||localizedTitle,localizedOgDescription=getTranslationString(localizedTranslations,`${localizedBaseKey}.ogDescription`)||localizedDescription;ensureLocalizedMeta("name","title",code).setAttribute("content",localizedTitle),ensureLocalizedMeta("name","description",code).setAttribute("content",localizedDescription),ensureLocalizedMeta("property","og:title",code).setAttribute("content",localizedOgTitle),ensureLocalizedMeta("property","og:description",code).setAttribute("content",localizedOgDescription)}),head.querySelectorAll('meta[property="og:locale:alternate"]').forEach(node=>node.parentNode?.removeChild(node)),SUPPORTED_LANGUAGES.filter(code=>code!==language).forEach(code=>{const locale=LOCALE_FALLBACK[code]||code;ensureLocalizedMeta("property","og:locale:alternate",code).setAttribute("content",locale)}),activeLanguage=language,SUPPORTED_LANGUAGES.forEach(code=>{ensureAlternate(code).setAttribute("href",buildLanguageUrl(code))}),ensureAlternate("x-default").setAttribute("href",buildCanonicalUrl()),canonicalLink.setAttribute("href",buildCanonicalUrl()),meta.ogUrl&&meta.ogUrl.setAttribute("content",buildLanguageUrl(activeLanguage))}function getActiveLanguage(){return window.appI18n&&window.appI18n.language?window.appI18n.language:document.documentElement.lang||"pl"}function applyForCurrentLanguage(){updateSeo(getActiveLanguage());try{!function(){const container=document.querySelector(".header-actions-primary");if(!container)return;if(Array.from(container.querySelectorAll("a")).some(a=>/\btrips\.html\b/i.test(a.getAttribute("href")||"")))return;const a=document.createElement("a");a.className="ghost header-link",a.href="trips.html",a.setAttribute("aria-label","Wycieczki"),a.textContent="ðŸ§­ Wycieczki";const vip=Array.from(container.querySelectorAll("a")).find(x=>(x.textContent||"").includes("VIP")||/vip\.html/i.test(x.getAttribute("href")||""));vip&&vip.parentNode===container?container.insertBefore(a,vip):container.appendChild(a)}()}catch(e){}}document.addEventListener("wakacjecypr:languagechange",event=>{updateSeo(event?.detail?.language||getActiveLanguage())}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",applyForCurrentLanguage,{once:!0}):applyForCurrentLanguage()}();