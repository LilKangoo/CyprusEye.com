export async function checkAvatarSetup(){let sb;try{if("function"!=typeof window.getSupabase)return void console.error("‚ùå Supabase client not found (window.getSupabase is not a function)");sb=window.getSupabase()}catch(error){return void console.error("‚ùå Error getting Supabase client:",error)}try{const{data:{user:user},error:error}=await sb.auth.getUser();if(error)return void console.error("‚ùå Error getting user:",error);if(!user)return}catch(error){return void console.error("‚ùå Exception getting user:",error)}try{const{data:buckets,error:error}=await sb.storage.listBuckets();error?console.error("‚ùå Error listing buckets:",error):buckets.find(b=>"avatars"===b.name)||console.error('‚ùå Bucket "avatars" NOT FOUND')}catch(error){console.error("‚ùå Exception listing buckets:",error)}try{const{data:data,error:error}=await sb.from("profiles").select("id, avatar_url").limit(1);error&&(console.error("‚ùå Error querying profiles table:",error),error.message?.includes("avatar_url")&&console.error("üìù Column avatar_url probably doesn't exist. Run: ALTER TABLE profiles ADD COLUMN avatar_url TEXT;"))}catch(error){console.error("‚ùå Exception querying profiles:",error)}const elements={avatarImg:document.querySelector("#profileAvatarImg"),avatarUploadInput:document.querySelector("#avatarUpload"),avatarUploadBtn:document.querySelector("#btnUploadAvatar"),avatarRemoveBtn:document.querySelector("#btnRemoveAvatar")};Object.entries(elements).forEach(([name,el])=>{el||console.error(`‚ùå ${name} NOT FOUND`)})}"undefined"!=typeof window&&(window.checkAvatarSetup=checkAvatarSetup);