let globalLanguageChangeTimeout=null;window.registerLanguageChangeHandler=function(callback,debounceMs=200){if("function"!=typeof callback)return void console.error("registerLanguageChangeHandler: callback must be a function");const handleLanguageChange=language=>{globalLanguageChangeTimeout&&clearTimeout(globalLanguageChangeTimeout),globalLanguageChangeTimeout=setTimeout(()=>{callback(language)},debounceMs)};window.addEventListener("languageChanged",e=>{handleLanguageChange(e.detail.language)}),document.addEventListener("wakacjecypr:languagechange",e=>{handleLanguageChange(e.detail.language)})};