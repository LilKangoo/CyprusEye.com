<!doctype html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FCSE0876CR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FCSE0876CR');
</script>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Security: Content Security Policy -->
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://esm.sh; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self' https://daoohnbnnowmmcizgvrq.supabase.co; object-src 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests;">

<title>Set new password</title>
<meta name="ce-auth" content="on">

<link rel="stylesheet" href="/assets/css/tokens.css" />
<link rel="stylesheet" href="/assets/css/base.css" />
<link rel="stylesheet" href="/assets/css/components.css?v=12" />
<link rel="stylesheet" href="/assets/css/header-metrics.css" />
<link rel="stylesheet" href="/assets/css/language-switcher.css" />
<link rel="stylesheet" href="/assets/css/language-selector.css?v=2" />
<link rel="stylesheet" href="/assets/css/mobile.css" />
<link rel="stylesheet" href="/assets/css/mobile-nav.css" />
<link rel="stylesheet" href="/css/toast.css">

<script type="module" src="/js/supabaseClient.js"></script>
<script type="module" src="/js/toast.js"></script>
<script type="module" src="/js/auth.js?v=7"></script>
</head>
<body class="auth-page" data-navigation="multi-page" data-seo-page="reset">
  <!-- Accessibility: Skip to main content -->
  <a href="#main-content" class="skip-link" data-i18n="accessibility.skipToContent">Skip to main content</a>

  <!-- Global app header with language pills and stats (same as auth index, without inline auth actions) -->
  <header class="app-header nav-modern">
    <div class="nav-modern__top" aria-label="Global header">
      <div class="brand nav-modern__brand-block">
        <a href="/index.html" class="nav-modern__brand-link" aria-label="CyprusEye Quest home">
          <img
            src="/assets/cyprus_logo-1000x1054.png"
            alt="WakacjeCypr.com â€“ logo Å¼Ã³Å‚wia z flagÄ… Polski"
            data-i18n-attrs="alt:header.logoAlt"
            width="1000"
            height="1054"
            loading="eager"
            fetchpriority="high"
          />
          <div class="brand-title" data-i18n="header.brand">
            <p class="brand-name">CyprusEye Quest &amp; Travel</p>
          </div>
        </a>
      </div>

      <div class="nav-modern__stats nav-modern__stats-lite" data-auth="user-only">
        <div class="stats-lite__pill">
          <a href="/achievements.html" class="stats-lite__profile" id="profileButton" aria-label="MÃ³j profil">
            <img
              id="headerUserAvatar"
              class="profile-avatar"
              src="/assets/cyprus_logo-1000x1054.png"
              alt="Avatar"
              width="48"
              height="48"
              loading="eager"
            />
            <div class="profile-info">
              <p class="profile-name">MÃ³j Profil</p>
              <p class="profile-status">Poziom 1 â€¢ 0 odznak</p>
            </div>
          </a>

          <div class="stats-lite__panel">
            <div class="stats-lite__level">
              <span class="stats-lite__label">LVL</span>
              <span class="stats-lite__value" id="headerLevelNumber">1</span>
              
            </div>

            <div class="stats-lite__xp" role="img" aria-label="PostÄ™p doÅ›wiadczenia" data-i18n-attrs="aria-label:metrics.xp.aria">
              <span class="stats-lite__xp-current"><span id="headerXpPoints">0</span> XP</span>
              <div class="stats-lite__xp-bar">
                <div class="stats-lite__xp-fill is-width-zero" id="headerXpFill"></div>
              </div>
              
                
              </span>
            </div>

            <div class="stats-lite__badges">
              <span class="stats-lite__label">ğŸ†</span>
              <span class="stats-lite__value" id="headerBadgesCount">0</span>
            </div>
          </div>
        </div>
      </div>

      <div class="nav-modern__top-actions">
        <button
          id="sosToggle"
          class="nav-modern__sos"
          type="button"
          aria-haspopup="dialog"
          aria-controls="sosModal"
          data-i18n="header.sosToggle"
        >
          âš ï¸ SOS
        </button>

        <div class="language-pill-group" data-language-toggle aria-label="Language selector" data-i18n-attrs="aria-label:language.switcher.label">
          <button type="button" class="language-pill" data-language-pill="pl" aria-pressed="false">PL</button>
          <button type="button" class="language-pill" data-language-pill="en" aria-pressed="false">EN</button>
          <!-- <button type="button" class="language-pill" data-language-pill="el" aria-pressed="false">EL</button> -->
          <!-- <button type="button" class="language-pill" data-language-pill="he" aria-pressed="false">HE</button> -->
        </div>
      </div>
    </div>
    <div class="nav-modern__shell">

      <div class="nav-modern__bars" data-tour-target="tabs-navigation">
        <button class="nav-modern__toggle-btn" id="navToggleBtn" aria-expanded="false" aria-controls="navLinksRow" data-i18n="nav.toggle">
          â˜° Nawigacja
        </button>
        <div class="nav-modern__links-row" id="navLinksRow" aria-label="GÅ‚Ã³wna nawigacja i skrÃ³ty" data-i18n-attrs="aria-label:header.quickActions.aria">
          <nav class="nav-modern__tabs" role="tablist" data-i18n-attrs="aria-label:header.tabs.aria" aria-label="Nawigacja gÅ‚Ã³wna">
            <a href="/index.html" class="nav-modern__tab is-active" id="headerAdventureTab" data-i18n="nav.adventure">
              ğŸ¯ Przygoda
            </a>
            <a href="/community.html" class="nav-modern__tab" id="headerPackingTab" data-i18n="nav.community">
              ğŸ’¬ SpoÅ‚ecznoÅ›Ä‡
            </a>
            <a href="/recommendations.html" class="nav-modern__tab" id="headerRecommendationsTab" data-i18n="nav.recommendations">
              âœ¨ Polecane
            </a>
            <a href="/tasks.html" class="nav-modern__tab" id="headerTasksTab" data-i18n="nav.tasks">
              â˜‘ï¸ Zadania
            </a>
          </nav>

          <div class="nav-modern__chips">
            <a class="nav-chip" href="/packing.html" data-i18n="nav.packing">ğŸ’ Pakowanie</a>
            <a class="nav-chip" href="/transport.html" data-i18n="header.coupon">ğŸš• Transport</a>
            <a class="nav-chip" href="/car.html" data-i18n="header.carRentalLink">ğŸš— Wynajem auta</a>
            <a class="nav-chip" href="/trips.html" data-i18n="nav.trips">ğŸ§­ Wycieczki</a>
            <a class="nav-chip" href="/hotels.html" data-i18n="nav.hotels">ğŸ¨ Hotele</a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main id="main-content">
  <h1 data-i18n="resetPage.title">Reset your password</h1>
  <p data-i18n="resetPage.description">Enter your email to receive a reset link or set a new password if you already opened the reset link.</p>
  <div id="authMessage" class="auth-message" role="status" aria-live="polite"></div>
  <form id="resetForm" autocomplete="off" novalidate>
    <fieldset>
      <legend data-i18n="resetPage.emailLegend">Send reset link</legend>
      <label for="resetEmail" data-i18n="resetPage.emailLabel">E-mail</label>
      <input id="resetEmail" name="email" type="email" autocomplete="email" required>
    </fieldset>

    <fieldset data-reset-section="password" hidden>
      <legend data-i18n="resetPage.passwordLegend">Set a new password</legend>
      <label for="resetNewPassword" data-i18n="resetPage.newPasswordLabel">New password</label>
      <input
        id="resetNewPassword"
        name="newPassword"
        type="password"
        minlength="6"
        autocomplete="new-password"
        required
      >

      <label for="resetConfirmPassword" data-i18n="resetPage.confirmPasswordLabel">Confirm new password</label>
      <input
        id="resetConfirmPassword"
        name="newPasswordConfirm"
        type="password"
        minlength="6"
        autocomplete="new-password"
        required
      >
    </fieldset>

    <button
      type="submit"
      data-i18n="resetPage.submitRequest"
      data-i18n-attrs="data-reset-label:resetPage.submitConfirm"
      data-reset-label="Ustaw nowe hasÅ‚o"
    >
      WyÅ›lij link resetujÄ…cy
    </button>
  </form>
  <div id="resetMessage" role="status" aria-live="polite"></div>
</main>

<script src="/js/languageSelector.js?v=3" defer></script>
<script src="/js/i18n.js" defer></script>
<script src="/js/languageRefresh.js"></script>

<!-- Header behaviour and stats, consistent with other pages -->
<script src="/js/header-stats.js" defer></script>
<script src="/js/seo.js" defer></script>
<script src="/js/mobile-nav.js" defer></script>
<script src="/js/header-dropdown.js" defer></script>

</body>
</html>
