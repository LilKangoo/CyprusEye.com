<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#2563eb" />
    <title>Twoje osiÄ…gniÄ™cia â€“ WakacjeCypr Quest</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Nunito:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header achievements-header">
      <div class="auth-bar" aria-label="Panel konta">
        <div class="auth-controls">
          <button id="openAuthModal" class="ghost" type="button" aria-haspopup="dialog" aria-controls="authModal">
            ğŸ” Zaloguj siÄ™
          </button>
          <div class="user-menu" id="userMenu" hidden>
            <span id="userGreeting" aria-live="polite"></span>
            <div class="user-menu-actions">
              <button type="button" class="ghost" id="accountSettingsBtn">âš™ï¸ Ustawienia konta</button>
              <button type="button" class="ghost" id="logoutBtn">Wyloguj</button>
            </div>
          </div>
        </div>
      </div>

      <div class="achievements-hero">
        <div class="brand">
          <img src="cyprus_logo-1000x1054.png" alt="WakacjeCypr.com â€“ logo Å¼Ã³Å‚wia z flagÄ… Polski" />
          <div class="brand-title">
            <h1>WakacjeCypr <span>Quest</span></h1>
            <p class="tagline">Zwiedzaj Cypr w interaktywny sposÃ³b â€“ zdobywaj odznaki, doÅ›wiadczenie i odkrywaj nasze najlepsze oferty.</p>
          </div>
        </div>
        <div class="achievements-hero-content">
          <div>
            <h2>Twoje osiÄ…gniÄ™cia</h2>
            <p>SprawdÅº zdobyte poziomy, XP oraz pamiÄ…tki z wypraw po Cyprze.</p>
          </div>
          <a class="ghost achievements-back" href="app.html">â† WrÃ³Ä‡ do mapy przygody</a>
        </div>
      </div>

      <div class="header-metrics" role="list" aria-live="polite">
        <a class="metric-card metric-card-link is-current" role="listitem" href="achievements.html">
          <p class="metric-label">Poziom</p>
          <p class="metric-value" id="headerLevelNumber">1</p>
          <p class="metric-subtext" id="headerLevelStatus">ZdobÄ…dÅº pierwsze check-iny, aby awansowaÄ‡!</p>
        </a>
        <a class="metric-card metric-card-link is-current" role="listitem" href="achievements.html">
          <p class="metric-label">DoÅ›wiadczenie</p>
          <p class="metric-value"><span id="headerXpPoints">0</span> XP</p>
          <div class="metric-progress" role="img" aria-label="PostÄ™p doÅ›wiadczenia">
            <div class="metric-progress-track">
              <div class="metric-progress-fill" id="headerXpFill" style="width: 0%"></div>
            </div>
            <p class="metric-progress-text" id="headerXpProgressText">0 / 150 XP do kolejnego poziomu</p>
          </div>
        </a>
        <a class="metric-card metric-card-link is-current" role="listitem" href="achievements.html">
          <p class="metric-label">Odznaki</p>
          <p class="metric-value" id="headerBadgesCount">0</p>
          <p class="metric-subtext">Odkrywaj atrakcje i kolekcjonuj pamiÄ…tki.</p>
        </a>
      </div>

      <nav class="header-tabs achievements-tabs" aria-label="Nawigacja osiÄ…gniÄ™Ä‡">
        <span class="header-tab is-active" role="tab" aria-selected="true">ğŸ† Podsumowanie osiÄ…gniÄ™Ä‡</span>
        <a class="header-tab" role="tab" aria-selected="false" href="app.html">ğŸ¯ Twoja przygoda</a>
      </nav>
    </header>

    <main class="achievements-main">
      <section class="progress-panel surface-card achievements-progress" aria-labelledby="achievementsTitle">
        <header class="achievements-progress-header">
          <div>
            <h2 id="achievementsTitle">Podsumowanie postÄ™pÃ³w</h2>
            <p class="achievements-subtitle">Zobacz swÃ³j obecny poziom, doÅ›wiadczenie i tempo zdobywania odznak.</p>
          </div>
          <p class="achievements-next" id="achievementsNextMilestone"></p>
        </header>
        <div class="achievements-progress-body">
          <p class="level-indicator">Poziom <span id="levelNumber">1</span> â€¢ <span id="xpPoints">0</span> XP</p>
          <div class="xp-bar">
            <div class="xp-fill" id="xpFill" style="width: 0%"></div>
          </div>
          <p class="xp-progress" id="xpProgressText">0 / 150 XP do kolejnego poziomu</p>
          <p class="level-status" id="levelStatus"></p>
        </div>
        <div class="guest-reset" id="guestResetContainer" hidden>
          <button type="button" class="ghost" id="guestResetProgress">ğŸ”„ Wyzeruj statystyki goÅ›cia</button>
          <p class="guest-reset-hint">Usuwa caÅ‚y zapisany lokalnie postÄ™p, XP i odznaki.</p>
        </div>
        <footer class="achievements-stats">
          <div>
            <strong>Zdobyte odznaki</strong>
            <p><span id="achievementsBadgesCount">0</span> unikalnych pamiÄ…tek</p>
          </div>
          <div>
            <strong>Odwiedzone miejsca</strong>
            <p><span id="achievementsVisitedCount">0</span> lokalizacji z mapy</p>
          </div>
        </footer>
      </section>

      <section class="surface-card achievements-badges" aria-labelledby="achievementsBadgesTitle">
        <h2 id="achievementsBadgesTitle">Zdobyte odznaki</h2>
        <p class="achievements-section-intro">
          Kolekcjonuj odznaki za odwiedzone miejsca i aktywnoÅ›ci. KaÅ¼da z nich to nowa historia z cypryjskiej przygody.
        </p>
        <ul class="badges-list" id="badgesList"></ul>
      </section>

      <section class="surface-card achievements-visited" aria-labelledby="achievementsVisitedTitle">
        <h2 id="achievementsVisitedTitle">Odwiedzone miejsca</h2>
        <p id="achievementsVisitedEmpty" class="achievements-empty">Jeszcze nie odwiedziÅ‚eÅ› Å¼adnego miejsca. Skocz na mapÄ™ i rozpocznij swojÄ… przygodÄ™!</p>
        <ul id="achievementsVisitedList" class="achievements-visited-list"></ul>
      </section>
    </main>

    <div class="auth-modal" id="authModal" hidden role="dialog" aria-modal="true" aria-labelledby="authTitle">
      <div class="auth-dialog">
        <header class="auth-header">
          <div>
            <h2 id="authTitle">DoÅ‚Ä…cz do WakacjeCypr Quest</h2>
            <p>Zaloguj siÄ™ lub zaÅ‚Ã³Å¼ konto, aby zapisywaÄ‡ swoje przygody na wszystkich urzÄ…dzeniach.</p>
          </div>
          <button type="button" class="icon-button" id="authClose" aria-label="Zamknij okno logowania">âœ•</button>
        </header>

        <div class="auth-content">
          <form id="loginForm" class="auth-form" autocomplete="on">
            <h3>Zaloguj siÄ™</h3>
            <label for="loginEmail">Adres e-mail</label>
            <input id="loginEmail" name="loginEmail" type="email" autocomplete="email" required />
            <label for="loginPassword">HasÅ‚o</label>
            <input id="loginPassword" name="loginPassword" type="password" autocomplete="current-password" required />
            <button type="submit" class="primary">Zaloguj siÄ™</button>
          </form>

          <form id="registerForm" class="auth-form" autocomplete="on">
            <h3>ZaÅ‚Ã³Å¼ konto</h3>
            <label for="registerUsername">Nazwa uÅ¼ytkownika</label>
            <input id="registerUsername" name="registerUsername" type="text" autocomplete="username" required />
            <label for="registerEmail">Adres e-mail</label>
            <input id="registerEmail" name="registerEmail" type="email" autocomplete="email" required />
            <label for="registerPassword">HasÅ‚o</label>
            <input id="registerPassword" name="registerPassword" type="password" autocomplete="new-password" required minlength="8" />
            <button type="submit" class="secondary">Zarejestruj siÄ™</button>
          </form>
        </div>

        <footer class="auth-footer">
          <p id="authMessage" class="auth-message" role="status" aria-live="polite"></p>
          <button type="button" class="ghost" id="guestAccessBtn">Kontynuuj jako goÅ›Ä‡</button>
        </footer>
      </div>
    </div>

    <div class="account-modal" id="accountModal" hidden role="dialog" aria-modal="true" aria-labelledby="accountTitle">
      <div class="account-dialog">
        <header class="account-header">
          <div>
            <h2 id="accountTitle">Ustawienia konta</h2>
            <p>Zaktualizuj swoje dane logowania lub rozpocznij przygodÄ™ od nowa.</p>
          </div>
          <button type="button" class="icon-button" id="accountClose" aria-label="Zamknij ustawienia konta">âœ•</button>
        </header>

        <div class="account-content">
          <form id="accountUsernameForm" class="account-form">
            <h3>ZmieÅ„ nazwÄ™ uÅ¼ytkownika</h3>
            <label for="accountUsername">Nowa nazwa uÅ¼ytkownika</label>
            <input id="accountUsername" name="accountUsername" type="text" autocomplete="username" required />
            <p class="form-hint">Zmiana zapisze siÄ™ od razu i bÄ™dzie widoczna w przywitaniu.</p>
            <button type="submit" class="secondary">Zapisz nazwÄ™</button>
          </form>

          <form id="accountPasswordForm" class="account-form">
            <h3>Zaktualizuj hasÅ‚o</h3>
            <label for="accountCurrentPassword">Obecne hasÅ‚o</label>
            <input id="accountCurrentPassword" name="accountCurrentPassword" type="password" autocomplete="current-password" required />
            <label for="accountNewPassword">Nowe hasÅ‚o</label>
            <input id="accountNewPassword" name="accountNewPassword" type="password" autocomplete="new-password" required minlength="8" />
            <label for="accountConfirmPassword">PowtÃ³rz nowe hasÅ‚o</label>
            <input id="accountConfirmPassword" name="accountConfirmPassword" type="password" autocomplete="new-password" required minlength="8" />
            <p class="form-hint">HasÅ‚o powinno mieÄ‡ co najmniej 8 znakÃ³w.</p>
            <button type="submit" class="secondary">ZmieÅ„ hasÅ‚o</button>
          </form>

          <section class="account-reset">
            <h3>Restart gry</h3>
            <p>Wyzeruj zdobyte odznaki oraz doÅ›wiadczenie i rozpocznij eksploracjÄ™ od poziomu pierwszego.</p>
            <button type="button" class="danger" id="accountResetProgress">ğŸ”„ Zresetuj postÄ™p</button>
          </section>
        </div>

        <footer class="account-footer">
          <p id="accountMessage" class="account-message" role="status" aria-live="polite"></p>
        </footer>
      </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="app.js"></script>
  </body>
</html>
