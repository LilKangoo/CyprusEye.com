<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Katalog atrakcji – WakacjeCypr Quest</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Nunito:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header attractions-header">
      <div class="auth-bar" aria-label="Panel konta">
        <div class="auth-controls">
          <button id="openAuthModal" class="ghost" type="button" aria-haspopup="dialog" aria-controls="authModal">
            🔐 Zaloguj się
          </button>
          <div class="user-menu" id="userMenu" hidden>
            <span id="userGreeting" aria-live="polite"></span>
            <div class="user-menu-actions">
              <button type="button" class="ghost" id="accountSettingsBtn">⚙️ Ustawienia konta</button>
              <button type="button" class="ghost" id="logoutBtn">Wyloguj</button>
            </div>
          </div>
        </div>
      </div>

      <div class="achievements-hero attractions-hero">
        <div class="brand">
          <img src="cyprus_logo-1000x1054.png" alt="WakacjeCypr.com – logo żółwia z flagą Polski" />
          <div class="brand-title">
            <h1>WakacjeCypr <span>Quest</span></h1>
            <p class="tagline">Zwiedzaj Cypr w interaktywny sposób – zdobywaj odznaki, doświadczenie i odkrywaj nasze najlepsze oferty.</p>
          </div>
        </div>
        <div class="achievements-hero-content attractions-hero-content">
          <div>
            <h2>Katalog atrakcji</h2>
            <p>Poznaj wszystkie miejsca z gry i łatwo zaplanuj kolejne odkrycia.</p>
          </div>
          <a class="ghost achievements-back" href="app.html">← Wróć do mapy przygody</a>
        </div>
      </div>

      <div class="header-metrics" role="list" aria-live="polite">
        <a class="metric-card metric-card-link is-current" role="listitem" href="achievements.html">
          <p class="metric-label">Poziom</p>
          <p class="metric-value" id="headerLevelNumber">1</p>
          <p class="metric-subtext" id="headerLevelStatus">Zdobądź pierwsze check-iny, aby awansować!</p>
        </a>
        <a class="metric-card metric-card-link is-current" role="listitem" href="achievements.html">
          <p class="metric-label">Doświadczenie</p>
          <p class="metric-value"><span id="headerXpPoints">0</span> XP</p>
          <div class="metric-progress" role="img" aria-label="Postęp doświadczenia">
            <div class="metric-progress-track">
              <div class="metric-progress-fill" id="headerXpFill" style="width: 0%"></div>
            </div>
            <p class="metric-progress-text" id="headerXpProgressText">0 / 150 XP do kolejnego poziomu</p>
          </div>
        </a>
        <a class="metric-card metric-card-link is-current" role="listitem" href="achievements.html">
          <p class="metric-label">Odznaki</p>
          <p class="metric-value" id="headerBadgesCount">0</p>
          <p class="metric-subtext">Odkrywaj atrakcje i kolekcjonuj pamiątki.</p>
        </a>
      </div>

      <nav class="header-tabs achievements-tabs" aria-label="Nawigacja katalogu atrakcji">
        <span class="header-tab is-active" role="tab" aria-selected="true">📚 Katalog atrakcji</span>
        <a class="header-tab" role="tab" aria-selected="false" href="achievements.html">🏆 Twoje osiągnięcia</a>
        <a class="header-tab" role="tab" aria-selected="false" href="app.html">🎯 Twoja przygoda</a>
      </nav>
    </header>

    <main class="attractions-main">
      <section class="surface-card attractions-intro" aria-labelledby="attractionsTitle">
        <header class="attractions-intro-header">
          <div>
            <h2 id="attractionsTitle">Wszystkie lokalizacje gry</h2>
            <p class="attractions-subtitle">Filtruj i odkrywaj atrakcje według nazwy, odznaki lub krótkiego opisu.</p>
          </div>
          <p class="attractions-results" id="attractionsResultsCount" aria-live="polite"></p>
        </header>
        <div class="attractions-toolbar">
          <label class="sr-only" for="attractionsSearch">Wyszukaj atrakcje</label>
          <input
            id="attractionsSearch"
            type="search"
            placeholder="Wyszukaj atrakcję, np. 'plaża', 'UNESCO' lub 'rodzinne'"
            autocomplete="off"
          />
          <a class="ghost" href="app.html">← Wróć na stronę główną</a>
        </div>
      </section>

      <section class="surface-card attractions-catalog-section" aria-labelledby="attractionsTitle">
        <ul id="attractionsCatalog" class="attractions-catalog" aria-live="polite"></ul>
        <p id="attractionsEmptyState" class="attractions-empty" hidden>
          Brak atrakcji spełniających kryteria wyszukiwania. Spróbuj innego hasła lub wyczyść filtr.
        </p>
      </section>
    </main>

    <footer class="app-footer">
      <p>© <span id="year"></span> WakacjeCypr.com • Graj, zwiedzaj i planuj wakacje jednocześnie.</p>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="app.js"></script>

    <div class="auth-modal" id="authModal" hidden role="dialog" aria-modal="true" aria-labelledby="authTitle">
      <div class="auth-dialog">
        <header class="auth-header">
          <div>
            <h2 id="authTitle">Zaloguj się lub załóż konto</h2>
            <p>Zapisuj swoje statystyki i kontynuuj przygody na dowolnym urządzeniu.</p>
          </div>
          <button type="button" class="icon-button" id="authClose" aria-label="Zamknij okno logowania">✕</button>
        </header>

        <div class="auth-content">
          <form id="loginForm" class="auth-form">
            <h3>Logowanie</h3>
            <label for="loginUsername">Adres e-mail lub login</label>
            <input id="loginUsername" name="loginUsername" type="text" autocomplete="username" required />
            <label for="loginPassword">Hasło</label>
            <input id="loginPassword" name="loginPassword" type="password" autocomplete="current-password" required />
            <button type="submit" class="primary">Zaloguj się</button>
          </form>

          <div class="auth-divider" role="separator" aria-hidden="true">
            <span>LUB</span>
          </div>

          <form id="registerForm" class="auth-form">
            <h3>Rejestracja</h3>
            <label for="registerUsername">Nazwa użytkownika</label>
            <input id="registerUsername" name="registerUsername" type="text" autocomplete="username" required />
            <label for="registerEmail">Adres e-mail</label>
            <input id="registerEmail" name="registerEmail" type="email" autocomplete="email" required />
            <label for="registerPassword">Hasło</label>
            <input id="registerPassword" name="registerPassword" type="password" autocomplete="new-password" required minlength="8" />
            <button type="submit" class="secondary">Załóż konto</button>
          </form>
        </div>

        <footer class="auth-footer">
          <p id="authMessage" class="auth-message" role="status" aria-live="polite"></p>
          <button type="button" class="ghost" id="guestAccessBtn">Kontynuuj jako gość</button>
        </footer>
      </div>
    </div>

    <div class="account-modal" id="accountModal" hidden role="dialog" aria-modal="true" aria-labelledby="accountTitle">
      <div class="account-dialog">
        <header class="account-header">
          <div>
            <h2 id="accountTitle">Ustawienia konta</h2>
            <p>Zaktualizuj swoje dane logowania lub rozpocznij przygodę od nowa.</p>
          </div>
          <button type="button" class="icon-button" id="accountClose" aria-label="Zamknij ustawienia konta">✕</button>
        </header>

        <div class="account-content">
          <form id="accountUsernameForm" class="account-form">
            <h3>Zmień nazwę użytkownika</h3>
            <label for="accountUsername">Nowa nazwa użytkownika</label>
            <input id="accountUsername" name="accountUsername" type="text" autocomplete="username" required />
            <p class="form-hint">Zmiana zapisze się od razu i będzie widoczna w przywitaniu.</p>
            <button type="submit" class="secondary">Zapisz nazwę</button>
          </form>

          <form id="accountPasswordForm" class="account-form">
            <h3>Zaktualizuj hasło</h3>
            <label for="accountCurrentPassword">Obecne hasło</label>
            <input id="accountCurrentPassword" name="accountCurrentPassword" type="password" autocomplete="current-password" required />
            <label for="accountNewPassword">Nowe hasło</label>
            <input id="accountNewPassword" name="accountNewPassword" type="password" autocomplete="new-password" required minlength="8" />
            <label for="accountConfirmPassword">Powtórz nowe hasło</label>
            <input id="accountConfirmPassword" name="accountConfirmPassword" type="password" autocomplete="new-password" required minlength="8" />
            <p class="form-hint">Hasło powinno mieć co najmniej 8 znaków.</p>
            <button type="submit" class="secondary">Zmień hasło</button>
          </form>

          <section class="account-reset">
            <h3>Restart gry</h3>
            <p>Wyzeruj zdobyte odznaki oraz doświadczenie i rozpocznij eksplorację od poziomu pierwszego.</p>
            <button type="button" class="danger" id="accountResetProgress">🔄 Zresetuj postęp</button>
          </section>
        </div>

        <footer class="account-footer">
          <p id="accountMessage" class="account-message" role="status" aria-live="polite"></p>
        </footer>
      </div>
    </div>
  </body>
</html>
